<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sowon Coffee Opening Checklist</title>
    <!-- 고급스러운 폰트 로드 (Google Fonts) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --primary-color: #1A3C34;
            /* 딥 그린 */
            --accent-color: #C5A059;
            /* 앤틱 골드 */
            --bg-color: #Fdfbf7;
            /* 웜 화이트/크림 */
            --card-bg: #ffffff;
            --text-main: #2C2C2C;
            --text-sub: #666666;
            --border-color: #E0E0E0;
            --success-color: #2D5A4C;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 40px 20px;
            background-image: radial-gradient(#e0dcd3 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .container {
            width: 100%;
            max-width: 700px;
            background: var(--card-bg);
            border-radius: 4px;
            /* 각진 모서리로 모던함 강조 */
            box-shadow: 0 15px 35px rgba(26, 60, 52, 0.08);
            overflow: hidden;
            position: relative;
            border-top: 5px solid var(--primary-color);
        }

        /* 헤더 디자인 */
        .header {
            padding: 50px 40px 30px;
            text-align: center;
            background: white;
            border-bottom: 1px solid var(--border-color);
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 8px;
            letter-spacing: -0.5px;
            font-weight: 700;
        }

        .header p {
            font-family: 'Playfair Display', serif;
            font-size: 1.1em;
            color: var(--accent-color);
            font-style: italic;
            letter-spacing: 1px;
            margin-bottom: 30px;
        }

        /* 프로그래스 바 */
        .progress-container {
            position: relative;
            padding: 0 10px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: var(--text-sub);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .progress-bar {
            background: #EFEFEF;
            height: 4px;
            width: 100%;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            background: var(--primary-color);
            height: 100%;
            width: 0%;
            transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        /* 섹션 디자인 */
        .content {
            padding: 0;
        }

        .section {
            border-bottom: 1px solid var(--border-color);
            background: white;
            transition: background-color 0.3s ease;
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-header {
            padding: 25px 40px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background-color: #FAFAFA;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: 500;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 15px;
            font-family: 'Playfair Display', serif;
        }

        .section-icon {
            color: var(--accent-color);
            font-size: 1.1em;
        }

        .section-status {
            font-size: 0.85em;
            color: var(--text-sub);
            font-family: 'Playfair Display', serif;
            letter-spacing: 1px;
        }

        /* 섹션 완료 시 스타일 */
        .section.completed .section-title {
            color: var(--success-color);
            text-decoration: line-through;
            opacity: 0.6;
        }

        .section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0, 1, 0, 1);
            background: #FAFAFA;
        }

        .section.expanded .section-content {
            max-height: 2000px;
            /* 충분히 큰 값 */
            transition: max-height 0.6s ease-in-out;
            border-bottom: 1px solid rgba(0, 0, 0, 0.03);
        }

        /* 체크리스트 아이템 */
        .checklist-group {
            padding: 10px 40px 30px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item:hover .item-text {
            color: var(--primary-color);
        }

        /* 커스텀 체크박스 */
        .checkbox-custom {
            width: 20px;
            height: 20px;
            border: 1px solid #BBBBBB;
            margin-right: 20px;
            margin-top: 2px;
            border-radius: 50%;
            /* 원형 */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
            position: relative;
        }

        .checkbox-custom::after {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .checklist-item.completed .checkbox-custom {
            border-color: var(--accent-color);
        }

        .checklist-item.completed .checkbox-custom::after {
            transform: scale(1);
        }

        .item-text {
            flex: 1;
            font-size: 0.95em;
            line-height: 1.6;
            color: var(--text-main);
            font-weight: 300;
            transition: color 0.2s;
        }

        .checklist-item.completed .item-text {
            color: #999;
            text-decoration: line-through;
        }

        .password {
            display: inline-block;
            background: rgba(197, 160, 89, 0.15);
            /* 골드 배경 연하게 */
            color: #8A6D3B;
            padding: 2px 8px;
            border-radius: 2px;
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            font-size: 0.9em;
            letter-spacing: 0.5px;
            border: 1px solid rgba(197, 160, 89, 0.3);
        }

        /* 초기화 버튼 */
        .reset-btn {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: white;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .reset-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: rotate(180deg);
        }

        /* 완료 메시지 */
        .completion-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 60, 52, 0.9);
            /* 딥 그린 오버레이 */
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease;
            backdrop-filter: blur(5px);
        }

        .completion-modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            padding: 50px;
            border-radius: 4px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--accent-color);
            transform: translateY(20px);
            transition: transform 0.5s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .completion-modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-content h2 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 2em;
        }

        .modal-content p {
            color: var(--text-sub);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .close-modal-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s;
            font-family: 'Noto Sans KR', sans-serif;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .close-modal-btn:hover {
            background: var(--accent-color);
        }

        /* 모바일 반응형 */
        @media (max-width: 768px) {
            body {
                padding: 0;
                background: white;
            }

            .container {
                box-shadow: none;
                border-radius: 0;
                border-top: none;
                max-width: 100%;
            }

            .header {
                padding: 40px 20px 20px;
            }

            .section-header {
                padding: 20px;
            }

            .checklist-group {
                padding: 10px 20px 30px;
            }

            .reset-btn {
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Sowon Coffee</h1>
            <p>Grand Opening Checklist</p>

            <div class="progress-container">
                <div class="progress-label">
                    <span>Preparation</span>
                    <span id="total-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Section 1: Opening -->
            <div class="section" data-section="opening">
                <div class="section-header" onclick="toggleSection('opening')">
                    <div class="section-title">
                        <span class="section-icon">❖</span>
                        개점 순서
                    </div>
                    <div class="section-status" id="opening-progress">0 / 16</div>
                </div>
                <div class="section-content">
                    <div class="checklist-group">
                        <div class="checklist-item" data-item="opening-1" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">1층 비밀번호 <span class="password">5678*</span> 입력</div>
                        </div>
                        <div class="checklist-item" data-item="opening-2" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">간판을 꺼내 세워 놓고 1층 문 열어 놓기</div>
                        </div>
                        <div class="checklist-item" data-item="opening-3" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">올라오는 길에 복도 불 켜기</div>
                        </div>
                        <div class="checklist-item" data-item="opening-4" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">2층 비밀번호 <span class="password">0845*</span> 입력</div>
                        </div>
                        <div class="checklist-item" data-item="opening-5" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">입장하여 오른쪽 스위치로 전등 켜기</div>
                        </div>
                        <div class="checklist-item" data-item="opening-6" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">입구 쪽 불이 안 켜지면 스마트 띵스 어플에서 입구쪽 조명 켜기 (카페 핸드폰)</div>
                        </div>
                        <div class="checklist-item" data-item="opening-7" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">TV 리모컨 전원 ON (외부입력 2 설정)</div>
                        </div>
                        <div class="checklist-item" data-item="opening-8" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">음악이 안 켜지면 작은 리모컨으로 크롬캐스트 켜고 유튜브 음악 재생</div>
                        </div>
                        <div class="checklist-item" data-item="opening-9" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">바(Bar) 벽장 리모컨으로 시스템 냉난방기 가동</div>
                        </div>
                        <div class="checklist-item" data-item="opening-10" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">바 내부 냉난방기 가동</div>
                        </div>
                        <div class="checklist-item" data-item="opening-11" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">쇼케이스 조작판 상단 두 번째(램프) 버튼 ON</div>
                        </div>
                        <div class="checklist-item" data-item="opening-12" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">포스기 모니터 우측 하단 밑면 전원 ON</div>
                        </div>
                        <div class="checklist-item" data-item="opening-13" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">CCTV 모니터 ON (하단 아래쪽)</div>
                        </div>
                        <div class="checklist-item" data-item="opening-14" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">쇼케이스 외부 물기 제거 (여름철 필수)</div>
                        </div>
                        <div class="checklist-item" data-item="opening-15" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">주전자 전원 버튼 누르고 물 끓이기</div>
                        </div>
                        <div class="checklist-item" data-item="opening-16" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">오픈 청소 및 소모품(타올, 냅킨, 물 등) 채우기</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: POS -->
            <div class="section" data-section="pos">
                <div class="section-header" onclick="toggleSection('pos')">
                    <div class="section-title">
                        <span class="section-icon">❖</span>
                        POS 시스템
                    </div>
                    <div class="section-status" id="pos-progress">0 / 10</div>
                </div>
                <div class="section-content">
                    <div class="checklist-group">
                        <div class="checklist-item" data-item="pos-1" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">바탕화면 OK 포스 아이콘 더블 클릭</div>
                        </div>
                        <div class="checklist-item" data-item="pos-2" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">비밀번호 <span class="password">1234</span> 로그인</div>
                        </div>
                        <div class="checklist-item" data-item="pos-3" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">판매 관리 버튼 → 수정 없이 개점 처리</div>
                        </div>
                        <div class="checklist-item" data-item="pos-4" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">"개점 처리하시겠습니까?" → "예"</div>
                        </div>
                        <div class="checklist-item" data-item="pos-5" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">[마감 시] 상단 X 버튼 클릭</div>
                        </div>
                        <div class="checklist-item" data-item="pos-6" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">영업관리 메뉴 진입</div>
                        </div>
                        <div class="checklist-item" data-item="pos-7" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">마감정산 클릭</div>
                        </div>
                        <div class="checklist-item" data-item="pos-8" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">다음 버튼 클릭</div>
                        </div>
                        <div class="checklist-item" data-item="pos-9" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">영업마감 클릭</div>
                        </div>
                        <div class="checklist-item" data-item="pos-10" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">"마감 정산처리 하시겠습니까?" → "예"</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Dishwasher -->
            <div class="section" data-section="dishwasher">
                <div class="section-header" onclick="toggleSection('dishwasher')">
                    <div class="section-title">
                        <span class="section-icon">❖</span>
                        식기세척기
                    </div>
                    <div class="section-status" id="dishwasher-progress">0 / 4</div>
                </div>
                <div class="section-content">
                    <div class="checklist-group">
                        <div class="checklist-item" data-item="dishwasher-1" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">세제 투입 및 전원 ON</div>
                        </div>
                        <div class="checklist-item" data-item="dishwasher-2" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">자동 문열림 확인 후 시작 버튼</div>
                        </div>
                        <div class="checklist-item" data-item="dishwasher-3" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">도어 닫힘 시 자동 시작 확인</div>
                        </div>
                        <div class="checklist-item" data-item="dishwasher-4" onclick="toggleItem(this)">
                            <div class="checkbox-custom"></div>
                            <div class="item-text">숟가락은 오목한 부분이 바닥을 향하도록 뒤집어 적재</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="reset-btn" onclick="resetAll()" title="초기화">
        ↻
    </button>

    <div class="completion-modal" id="completionModal">
        <div class="modal-content">
            <h2>Ready to Serve</h2>
            <p>모든 준비가 완료되었습니다.<br>오늘도 소원커피에서 행복한 하루 되세요.</p>
            <button class="close-modal-btn" onclick="closeModal()">확인</button>
        </div>
    </div>

    <script>
        // 로컬 스토리지에서 체크 상태 불러오기
        function loadCheckStates() {
            const saved = localStorage.getItem('cafeRaonTreeChecklist');
            if (saved) {
                const states = JSON.parse(saved);
                Object.keys(states).forEach(itemId => {
                    if (states[itemId]) {
                        const item = document.querySelector(`[data-item="${itemId}"]`);
                        if (item) {
                            item.classList.add('completed');
                        }
                    }
                });
                updateProgress();
            }
        }

        // 체크 상태 저장
        function saveCheckStates() {
            const states = {};
            document.querySelectorAll('[data-item]').forEach(item => {
                const itemId = item.getAttribute('data-item');
                states[itemId] = item.classList.contains('completed');
            });
            localStorage.setItem('cafeRaonTreeChecklist', JSON.stringify(states));
        }

        function toggleSection(sectionName) {
            const section = document.querySelector(`[data-section="${sectionName}"]`);
            section.classList.toggle('expanded');
        }

        function toggleItem(item) {
            // 이벤트 버블링 방지하지 않음 (li 전체 클릭 가능하게)
            const isCompleted = item.classList.contains('completed');

            if (isCompleted) {
                item.classList.remove('completed');
            } else {
                item.classList.add('completed');
            }

            updateProgress();
            saveCheckStates();
        }

        function updateProgress() {
            const sections = ['opening', 'pos', 'dishwasher'];
            let totalCompleted = 0;
            let totalItems = 0;

            sections.forEach(sectionName => {
                const sectionItems = document.querySelectorAll(`[data-section="${sectionName}"] [data-item]`);
                const completedItems = document.querySelectorAll(`[data-section="${sectionName}"] [data-item].completed`);

                totalItems += sectionItems.length;
                totalCompleted += completedItems.length;

                // 섹션별 진행률 텍스트 업데이트
                const progressElement = document.getElementById(`${sectionName}-progress`);
                if (progressElement) {
                    progressElement.textContent = `${completedItems.length} / ${sectionItems.length}`;
                }

                // 섹션 완료 시각적 표시
                const section = document.querySelector(`[data-section="${sectionName}"]`);
                if (completedItems.length === sectionItems.length && sectionItems.length > 0) {
                    section.classList.add('completed');
                } else {
                    section.classList.remove('completed');
                }
            });

            // 전체 진행률 바 업데이트
            const progressPercentage = totalItems === 0 ? 0 : Math.round((totalCompleted / totalItems) * 100);
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
            document.getElementById('total-percent').textContent = `${progressPercentage}%`;

            // 완료 메시지 표시 (100% 달성 시)
            const modal = document.getElementById('completionModal');
            if (totalCompleted === totalItems && totalItems > 0) {
                // 이미 모달을 본 상태인지 체크하는 로직을 추가할 수도 있음
                if (!modal.classList.contains('show') && !sessionStorage.getItem('modalShown')) {
                    modal.classList.add('show');
                    sessionStorage.setItem('modalShown', 'true');
                }
            }
        }

        function closeModal() {
            document.getElementById('completionModal').classList.remove('show');
        }

        function resetAll() {
            if (confirm('모든 체크리스트를 초기화하시겠습니까?')) {
                document.querySelectorAll('.checklist-item').forEach(item => {
                    item.classList.remove('completed');
                });
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('completed');
                });
                localStorage.removeItem('cafeRaonTreeChecklist');
                sessionStorage.removeItem('modalShown');
                updateProgress();
            }
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function () {
            loadCheckStates();
            // 첫 번째 섹션 자동 열기
            document.querySelector('[data-section="opening"]').classList.add('expanded');
        });
    </script>
</body>

</html>